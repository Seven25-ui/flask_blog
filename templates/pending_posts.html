<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pending Posts ‚Ä¢ Seven33 Blog</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-100 transition duration-300">
<header class="flex justify-between items-center p-4 bg-blue-600 text-white">
    <div>Pending Posts</div>
    <div>
        <a href="{{ url_for('dashboard') }}" class="mr-4">Dashboard</a>
        <a href="{{ url_for('logout') }}">Logout</a>
        <button id="modeToggle" class="ml-4">üåô</button>
    </div>
</header>

<div class="max-w-4xl mx-auto p-4">
    {% if posts %}
        {% for post in posts %}
        <div class="bg-white dark:bg-gray-800 rounded shadow p-4 mb-4">
            <h2 class="text-xl font-bold">{{ post.title }}</h2>
            <p class="text-sm text-gray-500 dark:text-gray-400">By {{ post.author }} | {{ post.created_at.strftime('%b %d, %Y %H:%M') }}</p>
            <p class="mt-2">{{ post.content[:200] }}{% if post.content|length > 200 %}...{% endif %}</p>
            {% if post.tags %}
            <p class="mt-2 text-sm text-blue-500">Tags: {{ post.tags }}</p>
            {% endif %}
            <div class="mt-2">
                <a href="{{ url_for('approve_post', post_id=post.id) }}" class="px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600">Approve</a>
                <a href="{{ url_for('delete_post', post_id=post.id) }}" class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600">Delete</a>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p>No pending posts.</p>
    {% endif %}
</div>

<script>
const toggleBtn = document.getElementById('modeToggle');
const body = document.body;
if(localStorage.getItem('mode')==='dark'){body.classList.add('dark'); toggleBtn.textContent='‚òÄÔ∏è';}
toggleBtn.addEventListener('click',()=>{
    body.classList.toggle('dark');
    if(body.classList.contains('dark')){
        toggleBtn.textContent='‚òÄÔ∏è';
        localStorage.setItem('mode','dark');
    } else {
        toggleBtn.textContent='üåô';
        localStorage.setItem('mode','light');
    }
});
</script>
</body>
</html>
