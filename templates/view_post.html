<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ post.title }} ‚Ä¢ Seven33</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>tailwind.config = { darkMode: 'class' };</script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300">

<header class="p-4 bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50">
    <div class="max-w-3xl mx-auto flex justify-between items-center">
        <a href="{{ url_for('public_home') }}" class="font-bold text-blue-600">‚Üê Back Home</a>
        <button id="darkToggle" class="p-2 bg-gray-100 dark:bg-gray-700 rounded-full">üí°</button>
    </div>
</header>

<main class="max-w-3xl mx-auto p-4 py-10">
    <article class="bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700">
        <div class="mb-6">
            <h1 class="text-4xl font-black mb-4 leading-tight">{{ post.title }}</h1>
            <div class="flex items-center gap-3 text-sm text-gray-500">
                <span class="font-bold text-blue-500 uppercase">{{ post.author }}</span>
                <span>‚Ä¢</span>
                <span>{{ post.created_at.strftime('%B %d, %Y') }}</span>
                <span>‚Ä¢</span>
                <span class="bg-blue-50 dark:bg-blue-900/20 text-blue-600 px-2 py-1 rounded">‚è±Ô∏è {{ get_read_time(post.content) }} min read</span>
            </div>
        </div>

        <div class="prose dark:prose-invert max-w-none text-lg leading-relaxed mb-10">
            {{ post.content | replace('\n', '<br>') | safe }}
        </div>

        <hr class="dark:border-gray-700 mb-8">

        <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
            <h3 class="font-bold text-gray-400 uppercase text-xs tracking-widest">Share this post:</h3>
            <div class="flex gap-2">
                <button onclick="copyLink()" class="flex items-center gap-2 bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-xl hover:bg-blue-600 hover:text-white transition font-bold text-sm">
                    üîó <span id="copyText">Copy Link</span>
                </button>
                
                <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.url }}" target="_blank" 
                   class="bg-[#1877F2] text-white px-4 py-2 rounded-xl font-bold text-sm hover:opacity-90 transition">
                    Facebook
                </a>

                <a href="https://twitter.com/intent/tweet?text={{ post.title }}&url={{ request.url }}" target="_blank" 
                   class="bg-black text-white px-4 py-2 rounded-xl font-bold text-sm hover:opacity-90 transition">
                    X
                </a>
            </div>
        </div>
    </article>
</main>

<script>
function copyLink() {
    const url = window.location.href;
    navigator.clipboard.writeText(url).then(() => {
        const btnText = document.getElementById('copyText');
        btnText.innerText = 'Copied!';
        setTimeout(() => { btnText.innerText = 'Copy Link'; }, 2000);
    });
}

const darkToggle = document.getElementById('darkToggle');
if (localStorage.getItem('darkMode') === 'true') document.documentElement.classList.add('dark');
darkToggle.addEventListener('click', () => {
    document.documentElement.classList.toggle('dark');
    localStorage.setItem('darkMode', document.documentElement.classList.contains('dark'));
});
</script>

</body>
</html>
